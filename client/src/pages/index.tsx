import { Coord, MockMap } from "@/containers/MockMap/Map"
import { Marker } from "@/containers/MockMap/Marker"
import { PointBox } from "@/containers/PointBox"
import { Sidebar } from "@/containers/Sidebar"
import { WelcomeBox } from "@/containers/WelcomeBox"
import Head from "next/head"
import { useState } from "react"

const points: { name: string; location: Coord }[] = [
  {
    name: "Kitchen",
    location: {
      lat: 80,
      long: 60,
    },
  },
  {
    name: "Station",
    location: {
      lat: 13,
      long: 120,
    },
  },
  {
    name: "Town",
    location: {
      lat: 10,
      long: 70,
    },
  },
  {
    name: "Plot",
    location: {
      lat: 40,
      long: 60,
    },
  },
]

export default function Home() {
  const [pos, setPos] = useState<Coord>()

  return (
    <>
      <Head>
        <title>Wasteman | Waste Management System</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="fixed inset-0 h-screen w-screen">
        <MockMap onPoint={setPos}>
          {points.map((point) => (
            <Marker key={point.name} location={point.location}>
              <div className="cursor-pointer rounded-full bg-blue-500 px-4 py-2 text-white transition-transform duration-300 hover:scale-105">
                <p>{point.name}</p>
              </div>
            </Marker>
          ))}
        </MockMap>

        <Sidebar />

        {pos && <PointBox onClose={() => setPos(undefined)} />}

        <WelcomeBox />
      </main>
    </>
  )
}
